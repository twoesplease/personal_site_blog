<!DOCTYPE html>
<html>
  <head>
    <title>Blog</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag 'application', 'http://fonts.googleapis.com/css?family=Inconsolata:400,700' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>
  <body>
    <div id='topnav'>
      <ul>
        <li class='category'>Here</li>
        <li class='home_page_icon'><%= link_to((image_tag('project-2x.png', alt: 'blog home page icon')), root_path) %></li>
        <li><%= link_to 'Blog', root_path %></li>
        <li><%= link_to 'About', about_path %></li>
        <li class='category'>Elsewhere</li>
        <li><a href='https://twitter.com/twoesplease'>Twitter</a></li>
        <li><a href='https://github.com/twoesplease'>Github</a></li>
        <li><a href='mailto:itisi@toneeyoung.com'>Email</a></li>
      </ul>

      <% if !user_signed_in? %>
        <p class='sign_in'>Admin Login</p>
      <% end %>
      </div>

      <div id='main_content'>
        <div id='header'>
          <% if current_page?(root_path) %>
            <p>All Posts</p>
          <% elsif current_page?(about_path) %>
            <p>About</p>
          <% else %>
            <%= link_to 'Back to All Posts', root_path %>
          <% end %> 

        <% if user_signed_in? %>
          <%# Changing these to p tags instead of buttons breaks the styling but fixes the functionality. %>
          <p class='buttons'>
            <p class='button'><%= link_to 'New Post', new_post_path %></p>
            <p class='button'>Log Out</p>
         </p>
        <% end %>
      </div>

      <% flash.each do |name, msg| %>
        <%= content_tag(:div, msg, class: 'alert') %>
      <% end %>

    <%= yield %>
      </div>

  </body>
</html>
